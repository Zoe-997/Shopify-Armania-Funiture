{% liquid
  assign sid = section.id 
  assign layout = section.settings.layout
  assign distance_col = section.settings.block_distance | divided_by: 2
  assign section_blocks = section.blocks
  assign block_size = section_blocks.size
  assign style = section.settings.style
  assign cimg_1 = 'collection-1' | placeholder_svg_tag: 'placeholder-svg background-30e9e5'
  assign cimg_2 = 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg background-e99b30'
  assign cimg_3 = 'lifestyle-2' | placeholder_svg_tag: 'placeholder-svg background-22c58d'
%}

{%- for i in (1..1) -%}
  <section id="section-{{ sid }}" class="section-{{ style }}">
    <div class="{{ layout }}">
      <div class="row row{{ distance_col }}">
        {%- case block_size -%}
          {%- when 1 -%}
            <div class="col-md-12 col-12 col-item col{{ distance_col }}">
              <div class="inner-col-item">{%- render 'banner-item', block: section_blocks[0], cimg: cimg_1 , ratio_demo: '27.604' , for_i: 1 -%}</div>
            </div>
          {%- when 2 -%}
            <div class="col-md-6 col-12 col-item col{{ distance_col }}">
              <div class="inner-col-item">{%- render 'banner-item', block: section_blocks[0], cimg: cimg_1 , ratio_demo: '57.803' , for_i: 1 -%}</div>
            </div>
            <div class="col-md-6 col-12 col-item col{{ distance_col }}">
              <div class="inner-col-item">{%- render 'banner-item', block: section_blocks[1], cimg: cimg_2 , ratio_demo: '57.803' , for_i: 1 -%}</div>
            </div>
          {%- when 3 -%}
            <div class="col-md-5 col-12 col-item col{{ distance_col }}">
              <div class="inner-col-item">{%- render 'banner-item', block: section_blocks[0], cimg: cimg_1 , ratio_demo: '44.4444' , for_i: 1 -%}</div>
            </div>
            <div class="col-md-7 col-12 col-item col-more-item col{{ distance_col }}">
              <div class="inner-col-item">
                {%- render 'banner-item', block: section_blocks[1], cimg: cimg_2 , ratio_demo: '44.4444' , for_i: 1 -%}
                {%- render 'banner-item', block: section_blocks[2], cimg: cimg_3 , ratio_demo: '44.4444' , for_i: 1 -%}
              </div>
            </div>
        {%- endcase -%}
      </div>
    </div>
  </section>
  {%- render 'section_style' -%}
{%- endfor -%}
{%- schema -%}
  {
    "name": "t:sections.image-banner-2.name",
    "class": "cms_section section-banner style-2",
    "max_blocks": 3,
    "settings": [
      {
        "type": "header",
        "content": "t:sections.all.layout.label"
      },
      {
        "type": "select",
        "id": "layout",
        "options": [
          {
            "value": "container",
            "label": "t:sections.all.layout.option__1"
          }, {
            "value": "full-width",
            "label": "t:sections.all.layout.option__2"
          }, {
            "value": "custom-width",
            "label": "t:sections.all.layout.option__3"
          }
        ],
        "label": "t:sections.all.layout.width"
      },
      {
        "type": "select",
        "id": "style",
        "default": "default",
        "options": [
          {
            "value": "default",
            "label": "t:sections.image-banner-2.style.option__1"
          }, {
            "value": "style-2",
            "label": "t:sections.image-banner-2.style.option__2"
          }
        ],
        "label": "t:sections.image-banner-2.style.label"
      },
      {
        "type": "range",
        "id": "block_distance",
        "min": 0,
        "max": 50,
        "step": 2,
        "unit": "px",
        "label": "t:sections.all.distance_block.vertical.label",
        "default": 34
      },  
      {
        "type": "color",
        "id": "btn_color",
        "label": "t:sections.image-banner-2.color.button.color",
        "default": "#111"
      },
      {
        "type": "color",
        "id": "btn_background",
        "label": "t:sections.image-banner-2.color.button.background",
        "default": "#fff"
      },
      {
        "type": "color",
        "id": "btn_color_hover",
        "label": "t:sections.image-banner-2.color.button.hover.color",
        "default": "#fff"
      },
      {
        "type": "color",
        "id": "btn_background_hover",
        "label": "t:sections.image-banner-2.color.button.hover.background",
        "default": "#000"
      },
      {
        "type": "header",
        "content": "t:sections.all.spacing.label"
      },
      {
        "type": "range",
        "id": "margin_bottom",
        "min": 0,
        "max": 300,
        "step": 5,
        "unit": "px",
        "label": "t:sections.all.spacing.margin.bottom",
        "default": 0
      },
      {
        "type": "header",
        "content": "t:sections.all.tablet.label"
      }, 
      {
        "type": "range",
        "id": "padding_top_tablet",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "t:sections.all.spacing.padding.top",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_bottom_tablet",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "t:sections.all.spacing.margin.bottom",
        "default": 0
      },
      {
        "type": "header",
        "content": "t:sections.all.mobile.label"
      }, 
      {
        "type": "range",
        "id": "padding_top_mobile",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "t:sections.all.spacing.padding.top",
        "default": 0
      },
      {
        "type": "range",
        "id": "margin_bottom_mobile",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "label": "t:sections.all.spacing.margin.bottom",
        "default": 0
      }
    ],
    "blocks": [
      {
        "type": "banner",
        "name": "t:sections.image-banner-2.blocks.name",
        "settings": [
          {
            "type": "header",
            "content": "t:sections.image-banner-2.blocks.images.label"
          },
          {
            "type": "image_picker",
            "id": "image",
            "label": "t:sections.image-banner-2.blocks.images.content"
          },
          {
            "type": "text",
            "id": "btn_title",
            "label": "t:sections.image-banner-2.blocks.button.label",
            "default": "Learn More"
          }, 
          {
            "type": "url",
            "id": "btn_link",
            "label": "t:sections.image-banner-2.blocks.button.link"
          }, 
          {
            "type": "select",
            "id": "open_link",
            "options": [
              {
                "value": "_self",
                "label": "t:sections.all.links.open_link.option__1"
              }, {
                "value": "_blank",
                "label": "t:sections.all.links.open_link.option__2"
              }
            ],
            "label": "t:sections.all.links.open_link.label",
            "default": "_blank"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "t:sections.image-banner-2.presets.name",
        "category": "Images",
        "blocks": [
          {
            "type": "banner"
          }, 
          {
            "type": "banner"
          }, 
          {
            "type": "banner"
          }
        ]
      }
    ]
  }
{% endschema %}

{% style %}
  #section-{{ sid }} .buttons{
    color: {{ section.settings.btn_color }};
    background-color: {{ section.settings.btn_background }};
  }

  #section-{{ sid }} .buttons:hover{
    color: {{ section.settings.btn_color_hover }};
    background-color: {{ section.settings.btn_background_hover }};
  }

  #section-{{ sid }} .col-item.col-more-item .laber_banner{
    margin-bottom: {{ section.settings.block_distance }}px;
    height: calc(100% / 2 - {{distance_col }}px);
  }

  #section-{{ sid }} .col-item.col-more-item .laber_banner:last-child{
    margin-bottom: 0;
  }
{% endstyle %}