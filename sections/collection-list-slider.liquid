{% liquid
  assign id = section.id 
  assign layout = section.settings.layout
  assign collection = section.settings.collection 
  assign se_blocks = section.blocks
  assign se_size = se_blocks.size
  assign style_layout =  section.settings.style_layout
  assign num_p_qty =  section.settings.num_p_qty
  assign layout_design =  section.settings.layout_design | plus:0
  
  assign col_coll =section.settings.col_coll |plus:0
  
  assign col_ipad =section.settings.col_ipad |plus:0
  assign col_ipad_pro =section.settings.col_ipad_pro |plus:0
  assign col_mobile_vertical =section.settings.col_mobile_vertical |plus:0
  assign col_mobile =section.settings.col_mobile |plus:0

  assign sid_style =  section.settings.sid_style
  
  assign autoplay =  section.settings.autoplay
  assign arrows =  section.settings.arrows
  assign dots =  section.settings.dots
  assign infinite =  section.settings.infinite
  
  
  assign show_name = 'true'
  
  assign col_col = col_coll | times: 1.0
  assign se = se_size | divided_by: col_col 
  
  assign col_ipp = col_ipad_pro | times: 1.0
  assign se_ipp = se_size | divided_by: col_ipp
  
  assign col_ip = col_ipad | times: 1.0
  assign se_ip = se_size | divided_by: col_ip 
  
  assign col_mb = col_mobile | times: 1.0
  assign se_mb = se_size | divided_by: col_mb 
  
    if col_coll == 5
    	assign col = 15
    else
    	assign col = 12 | divided_by: col_coll
    endif
%}
  
{%- for i in (1..1) -%}  
<section id="laber_{{id}}" class="laber_collection_list_slider_{{id}} cat_size_{{se_size}}">
  <div class="container {%if layout == 'full-width' %}{{layout}}{%endif%} laber_{{sid_style}}" >   
    {% if section.settings.title != blank or section.settings.sub_title!= blank %}
		<div class="wrap_title ">
          
		  {% if section.settings.sub_title!= blank %}
		  <span class="section-subtitle">{{section.settings.sub_title}}</span>
		  {% endif %}
          
          {% if section.settings.title != blank %}
		  <h3 class="section-title">{{section.settings.title}}</h3>  
		  {% endif %}
          
          
          {% if section.settings.content!= blank %}
		  <div class="content">{{section.settings.content}}</div>
		  {% endif %}
          
		</div>
    {% endif %}
    {% if layout_design == 1 %}
    	{% capture grid %}col-xs-6 col-sm-6 col-md-4 col-lg-{{ col }}{% endcapture %}
   		<div class=" collection-slider row">
          {%- for block in section.blocks -%}
      		<article class="post-item post_laber_loop {{grid}}"> 	
            {%- render 'cat-grid-item',block:block,num_p_qty:num_p_qty,show_name:show_name,sid_style:sid_style,cimg:'https://placehold.jp/20/a8dacc/fff/210x230.png?text=210x230',ratio_demo:'109.523',for_i:se_size -%}
            </article> 
          {%- endfor -%}
      
    	</div>
    {%else%}
    {% capture grid %}col-xs-6 col-sm-6 col-md-4 col-lg-{{ col }}{% endcapture %}
    {% include 'grid-slider', settings:section.settings %}
    <div class="grid-slider collection-slider" {{gridSlider}}>
          {%- for block in section.blocks -%}
      		<article class="post-item post_laber_loop {{grid}}"> 	
            {%- render 'cat-grid-item',block:block,num_p_qty:num_p_qty,show_name:show_name,cimg:'https://placehold.jp/20/a8dacc/fff/210x230.png?text=210x230',ratio_demo:'109.523',for_i:se_size -%}
            </article> 
          {%- endfor -%}
      	
    </div>
    
      {%if dots %}
          <div class="laber_append_dots dots_{{se | ceil}} dots_ipp_{{col_ipp | ceil}} dots_ip_{{se_ip | ceil}} dots_mb_{{se_mb | ceil}}"></div>
      {%endif%}
    
    {%endif%}
  </div>
</section>
{%- render 'section_style' -%}
{%- endfor -%}


{%- schema -%}
  {
    "name": "Collection list slider",
    "class": "collection_list cms_section type_collection_list_slider zoom_img",
    "max_blocks": 20,
    "settings": [
      {
        "type": "header",
        "content": "== Title Settings"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Heading"
      },
      {
        "type": "text",
        "id": "sub_title",
        "label": "Sub Text"
      }, 
	  {
        "type": "textarea",
        "id": "content",
        "label": "Content",
        "default": "Commodo sociosqu venenatis cras dolor sagittis integer luctus maecenas."
      },	
      {
        "type": "checkbox",
        "id": "num_p_qty",
        "label": "Show product quantity",
        "default": true
      },      
      {
        "type": "header",
        "content": "== Design Options"
      }, 	
	  {
        "type": "select",
        "id": "sid_style",
        "label": "Style",
        "default": "style2",
        "options": [
          {
            "value": "style1",
            "label": "style 1"
          },
          {
            "value": "style2",
            "label": "style 2"
          }
          
        ]
      },
      {
        "type": "select",
        "id": "layout",
        "default": "container",
        "options": [
         {
            "value": "container",
            "label": "Container"
         },
         {
            "value": "full-width",
            "label": "Full Width"
          }
        ],
        "label": "Layout"
      },
      {
        "type": "color",
        "id": "cl_bg",
        "label": "Background color",
        "default": "#fff"
      },
      {
        "type": "header",
        "content": "---- Slider Show Collection ----",
        "info": "Refer to the attribute values [here](https://kenwheeler.github.io/slick)"
    },  
    {
        "type": "checkbox",
        "id": "use-slider",
        "label": "Use slider?",
        "default": true
    },
    {  
        "type": "range",  
        "id": "slides-To-Scroll",  
        "label": "Slide to scroll",  
        "info": "The number of items slide to scroll",
        "min": 1,
        "max": 8,
        "step": 1,
        "unit": "col",
        "default": 1
    },   
    {  
        "type": "range",  
        "id": "visible",  
        "label": "Columns in Visible",
        "info": "Item(s) in screen ( Size >= 1920 )",
        "min": 1,
        "max": 8,
        "step": 1,
        "unit": "col",
        "default": 5 
    },
    {  
        "type": "range",  
        "id": "widescreen",  
        "label": "Columns in Widescreen",
        "info": "Item(s) in screen ( 1366 <= Size < 1920 )",
        "min": 1,
        "max": 8,
        "step": 1,
        "unit": "col",
        "default": 4 
    },  
    {  
        "type": "range",  
        "id": "desktop",  
        "label": "Columns in Desktop",
        "info":  "Item(s) in screen ( 1200 <= Size < 1480 )",
        "min": 1,
        "max": 8,
        "step": 1,
        "unit": "col",
        "default": 4  
    },    
    {  
        "type": "range",  
        "id": "laptop",  
        "label": "Columns in Laptop",
        "info": "Item(s) in screen ( 992 <= Size < 1200 )",
        "min": 1,
        "max": 8,
        "step": 1,
        "unit": "col",
        "default": 4
    },    
    {  
        "type": "range",  
        "id": "notebook",  
        "label": "Columns in Notebook",
        "info": "Item(s) in screen ( 768 <= Size < 992 )",
        "min": 1,
        "max": 8,
        "step": 1,
        "unit": "col",
        "default": 3  
    },  
    {  
        "type": "range",  
        "id": "tablet",  
        "label": "Columns in Tablet",
        "info": "Item(s) in screen ( 576 <= Size < 768 )",
        "min": 1,
        "max": 8,
        "step": 1,
        "unit": "col",
        "default": 3 
    },
    {  
        "type": "range",  
        "id": "landscape",  
        "label": "Columns in Landscape",
        "info": "Item(s) in screen ( 480 <= Size < 576 )",
        "min": 1,
        "max": 6,
        "step": 1,
        "unit": "col",
        "default": 2 
    }, 
    {  
        "type": "range",  
        "id": "portrait",  
        "label": "Columns in Portrait",
        "info": "Item(s) in screen ( 360 < Size < 480 )",
        "min": 1,
        "max": 6,
        "step": 1,
        "unit": "col",
        "default": 2 
    },
    {  
        "type": "range",  
        "id": "mobile",  
        "label": "Columns in Mobile",
        "info": "Item(s) in screen ( Size < = 360 )",
        "min": 1,
        "max": 4,
        "step": 1,
        "unit": "col",
        "default": 1 
    },
    {  
        "type": "range",  
        "id": "rows",  
        "label": "Rows Slider",  
        "min": 1,
        "max": 3,
        "step": 1,
        "unit": "row",
        "default": 1
    },
    {
        "type": "checkbox",
        "id": "autoplay",
        "label": "Autoplay",
        "default": true
    },
    {   
        "type": "text",
        "id": "speed",
        "label": "Speed",
        "default": "300",
        "info": "Autoplay Speed in milliseconds"
    },
    {   
        "type": "text",
        "id": "autoplay-Speed",
        "label": "Auto Play Speed",
        "default": "3000",
        "info": "Autoplay Speed in milliseconds"
    },
    {   
        "type": "checkbox",
        "id": "arrows",
        "label": "Arrows",
        "default": true
    },
    {   
        "type": "checkbox",
        "id": "fade",
        "label": "Fade",
        "default": false,
        "info": "Only use for 1 column"
    },
    {   
        "type": "checkbox",
        "id": "center-Mode",
        "label": "Center Mode",
        "default": false
    },
    {   
        "type": "checkbox",
        "id": "adaptive-Height",
        "label": "Adaptive Height",
        "default": false
    },
    {   
        "type": "checkbox",
        "id": "dots",
        "label": "Dots",
        "default": false 
    },
    {   
        "type": "checkbox",
        "id": "infinite",
        "label": "Infinite",
        "default": false
    },
    {
        "type": "number",
        "id": "padding",
        "label": "Padding",
        "default": 15
    },
    {   
        "type": "checkbox",
        "id": "vertical",
        "label": "Vertical",
        "default": false
    }
	
    ],
    "blocks": [{
    "type": "collection",
    "name": "Collection",
    "settings": [
      {
        "id": "collection",
        "type": "collection",
        "label": "Collection"
      },
      {
         "type": "image_picker",
         "id": "image",
         "label": "Image",
		 "info":"Dimension: 600px x 360px"
       },     
      {
        "type": "text",
        "id": "title",
        "label": "Title block (optional)",
        "info": "Leave empty to use 'collection title' title."
      },
		{
            "type": "select",
            "id": "txt_align",
            "label": "Text Align",
            "default": "left",
            "options": [
              {
                "value": "left",
                "label": "Left"
              },
              {
                "value": "center",
                "label": "Center"
              },
              {
                "value": "right",
                "label": "Right"
              }
            ]
          }
      ]
    }],
    "presets": [
      {
        "name": "5.2.A Collection list slider",
        "category": "Collections",
        "blocks": [
          { "type": "collection" },
          { "type": "collection" },
          { "type": "collection" },
          { "type": "collection" },
          { "type": "collection" },
          { "type": "collection" }
        ]
      }
    ]
  }
{% endschema %}
